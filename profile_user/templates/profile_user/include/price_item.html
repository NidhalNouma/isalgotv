{% load custom_tags %}

{% with price_key=title %}
  <div class="text-start py-4 px-6 rounded-lg w-full {% if title == 'YEARLY' %} bg-gradient-to-t from-primary/30 to-text/5 {% elif title == 'LIFETIME' %} bg-gradient-to-t from-primary/30 to-success/30 {% else %} bg-text/5 {% endif %} backdrop-blur-3xl border-0 border-text relative">
    <h3 class="text-text text-2xl font-extrabold pt-4 rounded-xl">{{ title }}</h3>
    {% if save %}
      {% comment %} <div class="relative my-2">
        <span class="absolute -right-12 px-2.5 py-0.5 text-xs text-background font-[600] tracking-wide bg-gradient-to-tl from-accent/40 to-accent rounded-l-md">{{ save }}</span>
      </div> {% endcomment %}
    {% endif %}
    <div class="mt-6 w-full flex flex-col">
      <h3 class="text-text text-5xl font-bold">
        ${{ prices|get_item:price_key }}
        {% if title == 'YEARLY' %}
          <span class="text-text/90 text-sm font-medium">/year</span>
        {% elif title == 'QUARTERLY' %}
          <span class="text-text/90 text-sm font-medium">/quarter</span>
        {% elif title == 'MONTHLY' %}
          <span class="text-text/90 text-sm font-medium">/month</span>
        {% endif %}
      </h3>

      {% if title == 'LIFETIME' %}
        <p class="text-text/80 text-xs font-normal mt-2">One-time payment for unlimited access</p>
      {% elif title == 'YEARLY' %}
        <p class="text-text/80 text-xs font-normal mt-2">Best value for long-term success</p>
      {% elif title == 'QUARTERLY' %}
        <p class="text-text/80 text-xs font-normal mt-2">Most flexible option for steady growth</p>
      {% elif title == 'MONTHLY' %}
        <p class="text-text/80 text-xs font-normal mt-2">Perfect for trying out our service</p>
      {% endif %}

      <ol class="mt-6 text-text/90 text-sm font-medium truncate space-y-4">
        <li class="flex items-center gap-1.5">
          <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
            <svg class="w-3 aspect-square fill-current" viewBox="0 0 514 435" xmlns="http://www.w3.org/2000/svg">
              <path d="M513 115.667C508.001 122.317 502.944 128.588 498.016 134.96C487.397 148.692 476.824 162.46 466.27 176.244C457.494 187.705 448.786 199.219 440.024 210.692C429.394 224.609 418.713 238.487 408.105 252.421C399.367 263.897 390.745 275.461 381.995 286.927C371.464 300.727 360.833 314.45 350.28 328.232C341.503 339.695 332.788 351.204 324.026 362.677C313.397 376.594 302.736 390.487 292.114 404.409C288.938 408.571 285.845 412.798 281.767 416.447C284.941 406.399 288.099 396.347 291.292 386.305C299.402 360.798 307.565 335.308 315.638 309.789C323.47 285.029 331.195 260.235 339.006 235.468C347.152 209.638 355.39 183.838 363.5 157.996C367.772 144.383 371.923 130.729 375.974 117.048C376.92 113.855 379.042 113.966 381.595 113.969C425.084 114.012 468.573 114 512.531 114C513 114.445 513 114.889 513 115.667Z" />
              <path d="M1 114.333C44.8235 114 88.6471 114.038 132.47 113.929C136.061 113.92 137.187 114.962 138.192 118.578C141.364 129.998 145.394 141.177 148.986 152.484C157.187 178.297 165.322 204.132 173.488 229.956C181.51 255.325 189.557 280.686 197.556 306.062C205.508 331.288 213.416 356.528 221.339 381.763C224.875 393.026 228.403 404.291 231.047 416.242C228.438 413.04 225.749 409.9 223.234 406.625C212.468 392.607 201.747 378.555 191.023 364.504C182.363 353.157 173.731 341.789 165.074 330.44C154.455 316.518 143.821 302.608 133.198 288.69C124.537 277.344 115.888 265.99 107.225 254.645C96.4975 240.598 85.7536 226.563 75.0304 212.512C66.3705 201.165 57.7374 189.797 49.0804 178.448C38.4615 164.526 27.8192 150.623 17.2086 136.695C12.0069 129.867 6.85414 123.002 1.33961 116.077C1 115.555 1 115.111 1 114.333Z" />
              <path d="M206 114C256.951 114 307.403 114 358.602 114C354.275 127.562 350.117 140.52 346.006 153.494C337.826 179.313 329.652 205.136 321.511 230.968C313.561 256.195 305.695 281.448 297.719 306.667C289.648 332.187 281.438 357.663 273.384 383.188C268.044 400.114 262.873 417.094 256.527 434.167C222.891 327.649 189.255 221.132 155.425 114C172.593 114 189.047 114 206 114Z" />
              <path d="M253 95.9999C223.748 95.9999 194.995 95.9999 166.983 95.9999C197.218 65.7616 227.592 35.3843 257.653 5.3208C287.022 34.6832 317.358 65.0125 348.352 95.9999C316.477 95.9999 284.988 95.9999 253 95.9999Z" />
              <path d="M308.75 30.2502C298.727 20.275 288.955 10.5498 278.678 0.322754C326.482 0.322754 373.603 0.322754 421.474 0.322754C403.875 30.4827 386.469 60.3114 368.891 90.4361C348.541 70.0706 328.77 50.2854 308.75 30.2502Z" />
              <path d="M147 0C176.457 0 205.414 0 235.03 0C233.965 1.26485 233.265 2.23127 232.432 3.0648C204.664 30.8534 176.886 58.6319 149.102 86.404C145.257 90.2475 144.76 90.1079 142.049 85.4663C129.821 64.5335 117.511 43.6489 105.306 22.7033C101.053 15.4053 97.0159 7.98176 92.5347 0C110.994 0 128.747 0 147 0Z" />
              <path d="M11.0742 96.0001C7.80845 96.0001 5.03072 96.0001 0.546875 96.0001C25.8535 65.6029 50.2711 36.2736 75.3793 6.11475C92.8794 36.113 110.118 65.6625 127.816 96.0001C88.366 96.0001 49.9641 96.0001 11.0742 96.0001Z" />
              <path d="M423.001 32.9769C428.11 24.0237 433.185 15.447 438.664 6.18701C463.556 36.0756 488.055 65.4923 513.254 95.7498C470.241 95.7498 428.728 95.7498 386.448 95.7498C392.164 85.8093 397.581 76.3813 403.005 66.9579C409.016 56.5167 415.023 46.0738 421.068 35.6524C421.56 34.8042 422.328 34.1159 423.001 32.9769Z" />
            </svg>
          </span>
          Premium Strategies
        </li>
        <li class="flex items-center gap-1.5  {% if title != 'LIFETIME' %} opacity-20 {% endif %}">
          <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
            <svg class="w-3.5 aspect-square" viewBox="0 0 148 148" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M33.9217 98.4708C66.9488 98.4708 80.1596 45.9194 113.187 45.9194C120.194 45.9194 126.915 48.6878 131.87 53.6154C136.825 58.5431 139.608 65.2264 139.608 72.1951C139.608 79.1639 136.825 85.8472 131.87 90.7749C126.915 95.7025 120.194 98.4708 113.187 98.4708C80.1596 98.4708 66.9488 45.9194 33.9217 45.9194C26.9142 45.9194 20.1938 48.6878 15.2387 53.6154C10.2837 58.5431 7.5 65.2264 7.5 72.1951C7.5 79.1639 10.2837 85.8472 15.2387 90.7749C20.1938 95.7025 26.9142 98.4708 33.9217 98.4708Z" stroke="currentColor" stroke-width="15" stroke-linecap="round" stroke-linejoin="round" />
              <path d="M48.016 33.9217C48.016 66.9488 100.567 80.1596 100.567 113.187C100.567 120.194 97.7991 126.915 92.8714 131.87C87.9438 136.825 81.2604 139.608 74.2917 139.608C67.3229 139.608 60.6396 136.825 55.7119 131.87C50.7843 126.915 48.016 120.194 48.016 113.187C48.016 80.1596 100.567 66.9488 100.567 33.9217C100.567 26.9142 97.7991 20.1938 92.8714 15.2387C87.9438 10.2837 81.2604 7.5 74.2917 7.5C67.3229 7.5 60.6396 10.2837 55.7119 15.2387C50.7843 20.1938 48.016 26.9142 48.016 33.9217Z" stroke="currentColor" stroke-width="15" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
          </span>
          Elite Strategies
        </li>
        <li class="flex items-center truncate gap-1.5">
          <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
            <svg class="h-3.5 aspect-square fill-current" viewBox="0 0 61 79" xmlns="http://www.w3.org/2000/svg">
              <path d="M55.2164 68.871H46.5656V78.7097H39.1507V68.871H30.5L42.8582 54.1129L55.2164 68.871ZM61 34.0911L47.6532 45.8976C43.5997 49.5379 37.5194 49.6855 33.3177 46.2911L23.0851 38.125C22.3979 37.5802 21.5386 37.296 20.6604 37.323C19.7822 37.35 18.9422 37.6865 18.2901 38.2726L4.94327 50.079L0 44.6185L13.3468 32.7629C15.3149 31.0189 17.8413 30.027 20.4758 29.964C23.1103 29.9009 25.6817 30.7708 27.7318 32.4185L37.9149 40.5847C39.3485 41.7161 41.3752 41.6177 42.7099 40.4371L56.0567 28.6306L61 34.0911ZM21.8493 9.83871H30.5L18.1418 24.5968L5.78363 9.83871H14.4344V0H21.8493V9.83871Z" />
            </svg>
          </span>
          Strategies Reports
        </li>
        <li class="gap-1.5 flex items-center truncate">
          <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
            <svg class="w-3.5 aspect-auto" viewBox="0 0 20 20" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M7.45996 14.375C7.45996 13.3616 6.63844 12.54 5.625 12.54C4.61156 12.54 3.79004 13.3616 3.79004 14.375C3.79004 15.3884 4.61156 16.21 5.625 16.21C6.63844 16.21 7.45996 15.3884 7.45996 14.375ZM16.21 14.375C16.21 13.3616 15.3884 12.54 14.375 12.54C13.3616 12.54 12.54 13.3616 12.54 14.375C12.54 15.3884 13.3616 16.21 14.375 16.21C15.3884 16.21 16.21 15.3884 16.21 14.375ZM7.45996 5.625C7.45996 4.61156 6.63844 3.79004 5.625 3.79004C4.61156 3.79004 3.79004 4.61156 3.79004 5.625C3.79004 6.63844 4.61156 7.45996 5.625 7.45996C6.63844 7.45996 7.45996 6.63844 7.45996 5.625ZM16.21 5.625C16.21 4.61156 15.3884 3.79004 14.375 3.79004C13.3616 3.79004 12.54 4.61156 12.54 5.625C12.54 6.63844 13.3616 7.45996 14.375 7.45996C15.3884 7.45996 16.21 6.63844 16.21 5.625ZM17.54 14.375C17.54 16.123 16.123 17.54 14.375 17.54C12.627 17.54 11.21 16.123 11.21 14.375C11.21 12.627 12.627 11.21 14.375 11.21C16.123 11.21 17.54 12.627 17.54 14.375ZM8.79004 5.625C8.79004 7.37298 7.37298 8.79004 5.625 8.79004C3.87702 8.79004 2.45996 7.37298 2.45996 5.625C2.45996 3.87702 3.87702 2.45996 5.625 2.45996C7.37298 2.45996 8.79004 3.87702 8.79004 5.625ZM17.54 5.625C17.54 7.37298 16.123 8.79004 14.375 8.79004C13.7416 8.79004 13.153 8.60173 12.6582 8.28125L8.28125 12.6582C8.60173 13.153 8.79004 13.7416 8.79004 14.375C8.79004 16.123 7.37298 17.54 5.625 17.54C3.87702 17.54 2.45996 16.123 2.45996 14.375C2.45996 12.627 3.87702 11.21 5.625 11.21C6.25794 11.21 6.84623 11.3977 7.34082 11.7178L11.7178 7.34082C11.3977 6.84623 11.21 6.25794 11.21 5.625C11.21 3.87702 12.627 2.45996 14.375 2.45996C16.123 2.45996 17.54 3.87702 17.54 5.625Z"></path>
            </svg>
          </span>
          Automation<span class="text-[0.6rem] -ml-1 -translate-y-0.5">&#8704;</span>
        </li>
        {% comment %} <li class="gap-1.5 flex items-center truncate">
          <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
            <svg class="h-3.5 aspect-square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M14 9a2 2 0 0 1-2 2H6l-4 4V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2z"></path>
              <path d="M18 9h2a2 2 0 0 1 2 2v11l-4-4h-6a2 2 0 0 1-2-2v-1"></path>
            </svg>
          </span>
          TERO Chat<span class="text-[0.6rem] -ml-1 -translate-y-0.5">&#8709;</span>
        </li>
        <li class="gap-1.5 flex items-center truncate  {% if title != 'LIFETIME' %} opacity-20 {% endif %}">
          <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
            <svg class="h-3.5 aspect-square" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
              <path d="M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"></path>
            </svg>
          </span>TERO Trade<span class="text-[0.6rem] -ml-1 -translate-y-0.5">&#8709;</span>
        </li> {% endcomment %}
        <li class="gap-1.5 flex items-center truncate">
          <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
            <svg class="h-3.5 aspect-square" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
              <path d="M13.545 2.907a13.2 13.2 0 0 0-3.257-1.011.05.05 0 0 0-.052.025c-.141.25-.297.577-.406.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025c-1.125.194-2.22.534-3.257 1.011a.04.04 0 0 0-.021.018C.356 6.024-.213 9.047.066 12.032q.003.022.021.037a13.3 13.3 0 0 0 3.995 2.02.05.05 0 0 0 .056-.019q.463-.63.818-1.329a.05.05 0 0 0-.01-.059l-.018-.011a9 9 0 0 1-1.248-.595.05.05 0 0 1-.02-.066l.015-.019q.127-.095.248-.195a.05.05 0 0 1 .051-.007c2.619 1.196 5.454 1.196 8.041 0a.05.05 0 0 1 .053.007q.121.1.248.195a.05.05 0 0 1-.004.085 8 8 0 0 1-1.249.594.05.05 0 0 0-.03.03.05.05 0 0 0 .003.041c.24.465.515.909.817 1.329a.05.05 0 0 0 .056.019 13.2 13.2 0 0 0 4.001-2.02.05.05 0 0 0 .021-.037c.334-3.451-.559-6.449-2.366-9.106a.03.03 0 0 0-.02-.019m-8.198 7.307c-.789 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .888-.637 1.612-1.438 1.612m5.316 0c-.788 0-1.438-.724-1.438-1.612s.637-1.613 1.438-1.613c.807 0 1.451.73 1.438 1.613 0 .888-.631 1.612-1.438 1.612"></path>
            </svg>
          </span>
          VIP Discord
        </li>
        <li class="gap-1.5 flex items-center truncate">
          <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
            <svg class="h-3.5 aspect-square" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path d="M21 8C22.1046 8 23 8.89543 23 10V14C23 15.1046 22.1046 16 21 16H19.9381C19.446 19.9463 16.0796 23 12 23V21C15.3137 21 18 18.3137 18 15V9C18 5.68629 15.3137 3 12 3C8.68629 3 6 5.68629 6 9V16H3C1.89543 16 1 15.1046 1 14V10C1 8.89543 1.89543 8 3 8H4.06189C4.55399 4.05369 7.92038 1 12 1C16.0796 1 19.446 4.05369 19.9381 8H21ZM7.75944 15.7849L8.81958 14.0887C9.74161 14.6662 10.8318 15 12 15C13.1682 15 14.2584 14.6662 15.1804 14.0887L16.2406 15.7849C15.0112 16.5549 13.5576 17 12 17C10.4424 17 8.98882 16.5549 7.75944 15.7849Z"></path>
            </svg>
          </span>Customer Support
        </li>
        <li class="gap-1.5 flex items-center truncate">
          {% if title != 'LIFETIME' %}
            <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
              <svg class="h-3.5 aspect-square" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path fill="none" d="M0 0h24v24H0z"></path>
                <path d="M16.5 9c-.42 0-.83.04-1.24.11L1.01 3 1 10l10.06 1.34c-.42.44-.78.93-1.09 1.46L1 14l.01 7 8.07-3.46C9.59 21.19 12.71 24 16.5 24c4.14 0 7.5-3.36 7.5-7.5S20.64 9 16.5 9zM3 8.25l.01-2.22 7.51 3.22-7.52-1zm6.1 7.11L3 17.97v-2.22l6.17-.82c-.03.14-.05.28-.07.43zM16.5 22c-3.03 0-5.5-2.47-5.5-5.5s2.47-5.5 5.5-5.5 5.5 2.47 5.5 5.5-2.47 5.5-5.5 5.5z"></path>
                <path d="m18.27 14.03-1.77 1.76-1.77-1.76-.7.7 1.76 1.77-1.76 1.77.7.7 1.77-1.76 1.77 1.76.7-.7-1.76-1.77 1.76-1.77z"></path>
              </svg>
            </span>Cancel at any Time
          {% else %}
            <span class="bg-text/10 backdrop-blur-3xl rounded-full p-1.5 flex items-center justify-center">
              <svg class="h-3.5 aspect-square" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path fill="none" d="M0 0h24v24H0z"></path>
                <path d="M20 2H4c-1.11 0-2 .89-2 2v11c0 1.11.89 2 2 2h4v5l4-2 4 2v-5h4c1.11 0 2-.89 2-2V4c0-1.11-.89-2-2-2zm0 13H4v-2h16v2zm0-5H4V4h16v6z"></path>
              </svg>
            </span>Life Time Access
          {% endif %}
        </li>
      </ol>
    </div>
    <div class="mt-8 mb-2">
      {% if user.is_authenticated %}
        {% if has_subscription %}
          {% if subscription.plan == title %}
            {% if subscription.cancel_at_period_end or subscription.status == 'past_due' %}
              <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="w-full btn-secondary mx-auto mt-3 outline-2 outline-offset-4 outline outline-secondary">Reactivate &#8634;</button>
            {% elif subscription.status == 'incomplete' or subscription.status == 'incomplete_expired' %}
              <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="w-full btn-secondary mx-auto mt-3">Complete &#8634;</button>
            {% else %}
              <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="truncate pointer-events-none bg-transparentl mx-auto mt-3 text-title bg-primary-light dark:bg-primary-dark text-2xl font-bold px-0 py-3 rounded-xl">Curent plan</button>
            {% endif %}
          {% else %}
            <div class="">
              {% if subscription.plan != 'LIFETIME' and title == 'LIFETIME' %}
                <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="w-full btn-secondary mx-auto mt-3">
                  Upgrade<svg class="ml-1 h-4 w-4" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="M256 21.95l-5.4 4.03C187.5 73.41 125.4 104.5 30.58 120.3l-7.5 1.2v7.6c0 19 8.4 48.7 22.1 85.1 13.6 36.5 32.8 78.8 55.02 119.2 22.3 40.4 47.4 78.9 73.8 107.7 26.1 28.9 53.5 48.9 82 48.9s55.9-20 82.2-48.9c26.2-28.8 51.3-67.3 73.7-107.7 22.2-40.4 41.3-82.7 55-119.2 13.6-36.4 22-66.1 22-85.1v-7.6l-7.4-1.2c-94.6-15.8-156.9-46.89-220.1-94.32zm0 22.2c61.1 45.04 124.4 76.15 214.4 92.35-1.9 15.2-9 41.4-20.3 71.5-4.1 10.8-8.6 22.2-13.7 34H288v-48.9l64 16-96-111.96-96 111.96 64-16V242H75.57c-5-11.8-9.59-23.2-13.69-34-11.2-30.1-18.4-56.3-20.3-71.5C131.6 120.3 194.8 89.19 256 44.15z"></path>
                  </svg>
                </button>
              {% elif subscription.plan == 'MONTHLY' %}
                <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="w-full btn-secondary mx-auto mt-3">
                  Upgrade<svg class="ml-1 h-4 w-4" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="M256 21.95l-5.4 4.03C187.5 73.41 125.4 104.5 30.58 120.3l-7.5 1.2v7.6c0 19 8.4 48.7 22.1 85.1 13.6 36.5 32.8 78.8 55.02 119.2 22.3 40.4 47.4 78.9 73.8 107.7 26.1 28.9 53.5 48.9 82 48.9s55.9-20 82.2-48.9c26.2-28.8 51.3-67.3 73.7-107.7 22.2-40.4 41.3-82.7 55-119.2 13.6-36.4 22-66.1 22-85.1v-7.6l-7.4-1.2c-94.6-15.8-156.9-46.89-220.1-94.32zm0 22.2c61.1 45.04 124.4 76.15 214.4 92.35-1.9 15.2-9 41.4-20.3 71.5-4.1 10.8-8.6 22.2-13.7 34H288v-48.9l64 16-96-111.96-96 111.96 64-16V242H75.57c-5-11.8-9.59-23.2-13.69-34-11.2-30.1-18.4-56.3-20.3-71.5C131.6 120.3 194.8 89.19 256 44.15z"></path>
                  </svg>
                </button>
              {% elif subscription.plan == 'YEARLY' %}
                <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="w-full btn-text mx-auto mt-3">
                  Downgrade<svg class="ml-1 h-4 w-4" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="M256 21.95l-5.4 4.03C187.5 73.41 125.4 104.5 30.58 120.3l-7.5 1.2v7.6c0 19 8.4 48.7 22.1 85.1 13.6 36.5 32.8 78.8 55.02 119.2 22.3 40.4 47.4 78.9 73.8 107.7 26.1 28.9 53.5 48.9 82 48.9s55.9-20 82.2-48.9c26.2-28.8 51.3-67.3 73.7-107.7 22.2-40.4 41.3-82.7 55-119.2 13.6-36.4 22-66.1 22-85.1v-7.6l-7.4-1.2c-94.6-15.8-156.9-46.89-220.1-94.32zm0 22.2c61.1 45.04 124.4 76.15 214.4 92.35-1.9 15.2-9 41.4-20.3 71.5-4.1 10.8-8.6 22.2-13.7 34H288v46l64-16-96 112-96-112 64 16v-46H75.57c-5-11.8-9.59-23.2-13.69-34-11.2-30.1-18.4-56.3-20.3-71.5C131.6 120.3 194.8 89.19 256 44.15z"></path>
                  </svg>
                </button>
              {% elif title == 'MONTHLY' %}
                <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="w-full btn-text mx-auto mt-3">
                  Downgrade<svg class="ml-1 h-4 w-4" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="M256 21.95l-5.4 4.03C187.5 73.41 125.4 104.5 30.58 120.3l-7.5 1.2v7.6c0 19 8.4 48.7 22.1 85.1 13.6 36.5 32.8 78.8 55.02 119.2 22.3 40.4 47.4 78.9 73.8 107.7 26.1 28.9 53.5 48.9 82 48.9s55.9-20 82.2-48.9c26.2-28.8 51.3-67.3 73.7-107.7 22.2-40.4 41.3-82.7 55-119.2 13.6-36.4 22-66.1 22-85.1v-7.6l-7.4-1.2c-94.6-15.8-156.9-46.89-220.1-94.32zm0 22.2c61.1 45.04 124.4 76.15 214.4 92.35-1.9 15.2-9 41.4-20.3 71.5-4.1 10.8-8.6 22.2-13.7 34H288v46l64-16-96 112-96-112 64 16v-46H75.57c-5-11.8-9.59-23.2-13.69-34-11.2-30.1-18.4-56.3-20.3-71.5C131.6 120.3 194.8 89.19 256 44.15z"></path>
                  </svg>
                </button>
              {% else %}
                <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="w-full btn-secondary mx-auto mt-3">
                  Upgrade<svg class="ml-1 h-4 w-4" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                    <path d="M256 21.95l-5.4 4.03C187.5 73.41 125.4 104.5 30.58 120.3l-7.5 1.2v7.6c0 19 8.4 48.7 22.1 85.1 13.6 36.5 32.8 78.8 55.02 119.2 22.3 40.4 47.4 78.9 73.8 107.7 26.1 28.9 53.5 48.9 82 48.9s55.9-20 82.2-48.9c26.2-28.8 51.3-67.3 73.7-107.7 22.2-40.4 41.3-82.7 55-119.2 13.6-36.4 22-66.1 22-85.1v-7.6l-7.4-1.2c-94.6-15.8-156.9-46.89-220.1-94.32zm0 22.2c61.1 45.04 124.4 76.15 214.4 92.35-1.9 15.2-9 41.4-20.3 71.5-4.1 10.8-8.6 22.2-13.7 34H288v-48.9l64 16-96-111.96-96 111.96 64-16V242H75.57c-5-11.8-9.59-23.2-13.69-34-11.2-30.1-18.4-56.3-20.3-71.5C131.6 120.3 194.8 89.19 256 44.15z"></path>
                  </svg>
                </button>
              {% endif %}
            </div>
          {% endif %}
        {% else %}
          <button onclick="openModel('staticModal-{{ title }}');mountStripeElement('{{ title }}');" class="group w-full btn-secondary font-semibold">
            Get Started<svg class="group-hover:scale-110 transition-transform h-3.5 w-3.5 dark:stroke-background stroke-title rounded-full bg-current p-0.5 ml-1" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 5l7 7m0 0l-7 7m7-7H3"></path>
            </svg>
          </button>
        {% endif %}
      {% else %}
        <a href="{% url 'register' %}" class="btn-secondary w-full font-semibold !from-text via-text/70 to-text/50 !bg-text !text-background">Sign up</a>
      {% endif %}

      {% comment %} <p class="mt-4 text-text/50 text-center text-xs">
        {% if title == 'MONTHLY' %}
          Billed monthly
        {% elif title == 'QUARTERLY' %}
          Billed every 3 months
        {% elif title == 'YEARLY' %}
          Billed yearly
        {% elif title == 'LIFETIME' %}
          One time payment
        {% endif %}
      </p> {% endcomment %}
    </div>
  </div>

  {% render_template 'include/pay_form_stripe.html' current_subscription=subscription base_price=prices|get_item:price_key final_price=prices|get_item:price_key get_started=get_started as pay_form_stripe %}
  {% with formatted_title=title|lower|capfirst %}
    {% with header_html="<h3 class='text-xl font-bold text-title capitalize'>Unlock "|add:formatted_title|add:' Access</h3>' %}
      {% include 'include/modal.html' with modal_id='staticModal-'|add:title header=header_html body=pay_form_stripe stripe_element_id=title body_class='px-2 mt-3' %}
    {% endwith %}
  {% endwith %}
{% endwith %}
