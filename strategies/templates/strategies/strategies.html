{% extends 'page.html' %}
{% load static %}

{% block head_title %}
  <title>IsAlgo | TradingView Strategies | Premium Backtestable Systems</title>
{% endblock %}

{% block head_description %}
  <meta name="description" content="Access a growing library of expert TradingView strategies. Explore premium, backtestable, and automatable trading systems designed for all markets and skill levels. Start mastering your trades today with IsAlgo." />
  {% comment %} <meta name="description" content="Explore our exclusive collection of TradingView strategies designed for maximum profitability. Access fully backtestable and automated strategies suitable for all markets, timeframes, and skill levels. Boost your trading edge today with IsAlgo." /> {% endcomment %}
{% endblock %}

{% block page %}
  <h1 class="main-title">Strategies</h1>

  <main class="mt-1 mb-16">
    <div class="sticky z-10 top-10 sm:top-12 mb-3">
      <div class="hidden absolute top-0 -left-4 bottom-0 w-8 bg-gradient-to-r from-background pointer-events-none z-10"></div>
      <div class="absolute bottom-0 top-0 right-0 w-8 bg-gradient-to-l from-background pointer-events-none z-10"></div>

      <section class="flex items-center pt-4 py-4 px-1 pr-8 nav-bg cursor-pointer overflow-x-auto no-scrollbar">
        {% if selected_type %}
          <a class="mr-2" href="{% url 'strategies' %}">
            <span class="bg-text/10 pr-2 py-0.5 rounded-lg text-sm font-semibold truncate whitespace-nowrap flex items-center transition-all">
              {% include 'strategies/include/strategy_badge.html' with type=selected_type %}

              <svg class="h-4 w-4 ml-1.5 text-text hover:text-text/80 transition-all" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                <path d="M400 145.49L366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"></path>
              </svg>
            </span>
          </a>
        {% endif %}
        {% for type in available_types %}
          {% if type != selected_type %}
            <a class="mr-2 hover:opacity-80 transition-opacity" href="{% url 'strategies' %}?type={{ type }}">
              {% include 'strategies/include/strategy_badge.html' with type=type %}
              {% comment %} <span class="text-text/60 bg-text/10 hover:bg-text/30 px-2 py-0.5 rounded-lg text-sm font-semibold truncate whitespace-nowrap flex items-center transition-all">{{ type }}</span> {% endcomment %}
            </a>
          {% endif %}
        {% endfor %}
      </section>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 max-w-full mx-auto gap-12">
      {% for strategy in strategies %}
        {% include 'include/quick_strategy.html' with strategy=strategy %}
      {% empty %}
        <p class="text-text text-sm">No strategy availble yet.</p>
      {% endfor %}

      {% if not selected_type %}
        <div class="group cursor-pointer relative overflow-hidden rounded-xl sm:col-span-2">
          <a href="{% url 'create_strategy' %}">
            <div class="absolute inset-0 bg-gradient-to-b sm:bg-gradient-to-r from-accent/20 via-accent/10 to-transparent"></div>
            {% comment %} <div class="absolute inset-0 opacity-100 bg-[radial-gradient(circle_at_20%_50%,rgba(114,137,218,0.08),transparent_50%)]"></div> {% endcomment %}
            <div class="relative p-4 sm:p-5 flex flex-col sm:flex-row items-start sm:items-end justify-start gap-4">
              <div class="flex items-center gap-4">
                <div class="relative flex-shrink-0">
                  <div class="absolute -inset-1 bg-accent/30 rounded-full blur-md opacity-60 group-hover:opacity-80 transition-opacity"></div>
                  <div class="relative p-3 rounded-full backdrop-blur">
                    <svg class="w-6 h-6 stroke-accent" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                      <path d="M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z" />
                      <path d="M9 13a4.5 4.5 0 0 0 3-4" />
                      <path d="M6.003 5.125A3 3 0 0 0 6.401 6.5" />
                      <path d="M3.477 10.896a4 4 0 0 1 .585-.396" />
                      <path d="M6 18a4 4 0 0 1-1.967-.516" />
                      <path d="M12 13h4" />
                      <path d="M12 18h6a2 2 0 0 1 2 2v1" />
                      <path d="M12 8h8" />
                      <path d="M16 8V5a2 2 0 0 1 2-2" />
                      <circle cx="16" cy="13" r=".5" />
                      <circle cx="18" cy="3" r=".5" />
                      <circle cx="20" cy="21" r=".5" />
                      <circle cx="20" cy="8" r=".5" />
                    </svg>
                  </div>
                </div>
                <div class="flex-1">
                  <h3 class="text-sm font-semibold text-accent mb-0.5">Have a Strategy Idea?</h3>
                  <p class="text-xs sm:text-sm text-text/70 mt-1">We're here to help you turn it into a fully functional strategy.</p>
                </div>
              </div>
              <div class="flex-shrink-0">
                <span class="inline-flex items-center text-accent bg-accent/10 group-hover:bg-accent/20 rounded-lg px-3 py-1.5 text-sm font-medium transition-all">
                  <span>Contact Us</span>
                  <svg class="h-4 w-4 ml-1.5 group-hover:translate-x-0.5 group-hover:-translate-y-0.5 transition-transform stroke-accent" stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
                    <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    <polyline points="15 3 21 3 21 9"></polyline>
                    <line x1="10" x2="21" y1="14" y2="3"></line>
                  </svg>
                </span>
              </div>
            </div>
          </a>
        </div>
      {% endif %}
    </div>
  </main>
{% endblock %}
