<section class="{{ class }} mt-14">
  <p class="text-text text-center text-sm mt-2">
    Go to your
    <a class="text-title font-medium underline" href="https://www.tradingview.com/?aff_id=134591&aff_sub=134591&source=134591" target="_blank">TradingView</a>
    profile to copy your username and paste it inside the field. <br />The video below demonstrates where you can find your TradingView username.
  </p>
  <div class="mt-6 w-full flex flex-col sm:flex-row items-center justify-center gap-6 sm:gap-12">
    <form hx-post="{% url 'update-tradingview-username' %}" class="mb-2 pt-3 max-w-sm w-72">
      {% csrf_token %}

      {% load custom_tags %}
      {% render_template 'include/docs/find_username.html' as info_content %}

      {% include 'include/drawer_modal.html' with drawer_id='drawer-tv-help' title='Tradingview username' body=info_content %}

      <label for="email" class="!flex items-center justify-between input-label">
        <span>Tradingview username</span>
        <button onclick="openDrawer('drawer-tv-help')" type="button">
          <svg class="text-text hover:text-text/80 h-4 aspect-square transition-all" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-info-icon lucide-info">
            <circle cx="12" cy="12" r="10" />
            <path d="M12 16v-4" />
            <path d="M12 8h.01" />
          </svg>
        </button>
      </label>
      <div class="relative mb-4 w-full">
        <div class="absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none">
          <svg aria-hidden="true" class="w-5 h-5 text-text/40" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
            <path d="M8 12.052c1.995 0 3.5-1.505 3.5-3.5s-1.505-3.5-3.5-3.5-3.5 1.505-3.5 3.5 1.505 3.5 3.5 3.5zM9 13H7c-2.757 0-5 2.243-5 5v1h12v-1c0-2.757-2.243-5-5-5zm11.294-4.708-4.3 4.292-1.292-1.292-1.414 1.414 2.706 2.704 5.712-5.702z"></path>
          </svg>
        </div>
        <input type="text" name="tradingview_username" id="" value="{{ user_profile.tradingview_username }}" class="w-full block pl-10 p-2.5 input-text" placeholder="UserName" />
      </div>

      <div class="mt-1 mb-3" id="tradingview_username_submit_error">
        {% include 'include/errors.html' %}
      </div>
      <button id="btn-tv" onclick="openLoader('', '-tv', 'flex');" type="submit" class="max-w-full w-full mx-auto btn-secondary inline-flex">
        Next<svg class="h-3 w-4 ml-1" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
          <path fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="48" d="m268 112 144 144-144 144m124-144H100"></path>
        </svg>
      </button>
      <button id="spinner-tv" disabled type="button" class="hidden w-full btn-secondary items-center">
        Next {% include 'svg/spinner.html' with class='ml-1 h-4' %}
      </button>
    </form>
    <div class="max-w-full">
      <video class="aspect-auto w-full mr-auto my-3 rounded max-w-xl" muted="" controls="controls">
        <source src="https://isalgotest.s3.amazonaws.com/docs/copy_username.mp4" type="video/mp4" />
      </video>
      <!--  <img
              class="rounded-xl"
              src="https://firebasestorage.googleapis.com/v0/b/automated-trader-fd733.appspot.com/o/files%2Fvideos%2Ftrading_view_user_name_find.gif?alt=media&token=7f7475ea-879b-454f-b251-38ab1e9a9ddb"
            />  -->
    </div>
  </div>
</section>
