<section id="trades-{{ broker_type }}-{{ id }}" class="overflow-x-hidden relative h-full w-full">
  {% if trades is not None %}
    {% if trades %}
      <div class="overflow-x-auto w-full no-scrollbar max-h-full h-full">
        <table class="w-full relative h-auto" id="trades-table-{{ broker_type }}-{{ id }}">
          <thead class="sticky left-0 right-0 w-full top-0 z-10 {{ thead_class|default:'nav-bg' }}">
            <tr class="">
              {% if not only_closed_trades %}
                <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">ID</th>
                <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Status</th>
              {% endif %}
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Asset</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Side</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Amount</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">P&L</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Fees</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Open Price</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Close Price</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Open Time (UTC)</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Close Time (UTC)</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate">Source</th>
              <th class="px-4 py-3 text-left text-xs font-medium text-text/60 truncate"></th>
            </tr>
          </thead>
          <tbody class="divide-y divide-text/10">
            {% include 'include/account_trades_tablebody.html' %}
          </tbody>
        </table>
      </div>
    {% else %}
      <!-- Case where 'trades' is an empty list or similar iterable -->
      <p class="text-text/80 text-sm mb-6">No trades available for this account at this moment.</p>
    {% endif %}
  {% else %}
    <!-- Case where 'trades' is None or not passed in the context -->
    <p class="text-text/80 text-sm mb-6 flex items-center">
      Loading{% include 'svg/spinner.html' with class='ml-1.5 h-4 text-text' %}
    </p>
  {% endif %}
</section>
