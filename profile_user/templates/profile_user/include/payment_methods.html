{% with default_pm=stripe_customer.invoice_settings.default_payment_method %}
  {% for pm in payment_methods %}
    <div onclick="{% if to_select == True %} paymentMethodSelected('{{ pm.id }}', '{{ inputId }}') {% endif %}"
      class="flex items-center text-title/70 rounded hover:text-title transition-all px-1.5 cursor-pointer">
      {% if pm.type == 'card' %}
        <div class="py-1">
          {% if pm.card.brand == 'visa' %}
            <svg class="fill-text w-12 h-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
              <path d="M470.1 231.3s7.6 37.2 9.3 45H446c3.3-8.9 16-43.5 16-43.5-.2 .3 3.3-9.1 5.3-14.9l2.8 13.4zM576 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM152.5 331.2L215.7 176h-42.5l-39.3 106-4.3-21.5-14-71.4c-2.3-9.9-9.4-12.7-18.2-13.1H32.7l-.7 3.1c15.8 4 29.9 9.8 42.2 17.1l35.8 135h42.5zm94.4 .2L272.1 176h-40.2l-25.1 155.4h40.1zm139.9-50.8c.2-17.7-10.6-31.2-33.7-42.3-14.1-7.1-22.7-11.9-22.7-19.2 .2-6.6 7.3-13.4 23.1-13.4 13.1-.3 22.7 2.8 29.9 5.9l3.6 1.7 5.5-33.6c-7.9-3.1-20.5-6.6-36-6.6-39.7 0-67.6 21.2-67.8 51.4-.3 22.3 20 34.7 35.2 42.2 15.5 7.6 20.8 12.6 20.8 19.3-.2 10.4-12.6 15.2-24.1 15.2-16 0-24.6-2.5-37.7-8.3l-5.3-2.5-5.6 34.9c9.4 4.3 26.8 8.1 44.8 8.3 42.2 .1 69.7-20.8 70-53zM528 331.4L495.6 176h-31.1c-9.6 0-16.9 2.8-21 12.9l-59.7 142.5H426s6.9-19.2 8.4-23.3H486c1.2 5.5 4.8 23.3 4.8 23.3H528z" />
            </svg>
          {% elif pm.card.brand == 'mastercard' %}
            <svg class="fill-text w-12 h-12" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512">
              <path d="M482.9 410.3c0 6.8-4.6 11.7-11.2 11.7-6.8 0-11.2-5.2-11.2-11.7 0-6.5 4.4-11.7 11.2-11.7 6.6 0 11.2 5.2 11.2 11.7zm-310.8-11.7c-7.1 0-11.2 5.2-11.2 11.7 0 6.5 4.1 11.7 11.2 11.7 6.5 0 10.9-4.9 10.9-11.7-.1-6.5-4.4-11.7-10.9-11.7zm117.5-.3c-5.4 0-8.7 3.5-9.5 8.7h19.1c-.9-5.7-4.4-8.7-9.6-8.7zm107.8 .3c-6.8 0-10.9 5.2-10.9 11.7 0 6.5 4.1 11.7 10.9 11.7 6.8 0 11.2-4.9 11.2-11.7 0-6.5-4.4-11.7-11.2-11.7zm105.9 26.1c0 .3 .3 .5 .3 1.1 0 .3-.3 .5-.3 1.1-.3 .3-.3 .5-.5 .8-.3 .3-.5 .5-1.1 .5-.3 .3-.5 .3-1.1 .3-.3 0-.5 0-1.1-.3-.3 0-.5-.3-.8-.5-.3-.3-.5-.5-.5-.8-.3-.5-.3-.8-.3-1.1 0-.5 0-.8 .3-1.1 0-.5 .3-.8 .5-1.1 .3-.3 .5-.3 .8-.5 .5-.3 .8-.3 1.1-.3 .5 0 .8 0 1.1 .3 .5 .3 .8 .3 1.1 .5s.2 .6 .5 1.1zm-2.2 1.4c.5 0 .5-.3 .8-.3 .3-.3 .3-.5 .3-.8 0-.3 0-.5-.3-.8-.3 0-.5-.3-1.1-.3h-1.6v3.5h.8V426h.3l1.1 1.4h.8l-1.1-1.3zM576 81v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V81c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM64 220.6c0 76.5 62.1 138.5 138.5 138.5 27.2 0 53.9-8.2 76.5-23.1-72.9-59.3-72.4-171.2 0-230.5-22.6-15-49.3-23.1-76.5-23.1-76.4-.1-138.5 62-138.5 138.2zm224 108.8c70.5-55 70.2-162.2 0-217.5-70.2 55.3-70.5 162.6 0 217.5zm-142.3 76.3c0-8.7-5.7-14.4-14.7-14.7-4.6 0-9.5 1.4-12.8 6.5-2.4-4.1-6.5-6.5-12.2-6.5-3.8 0-7.6 1.4-10.6 5.4V392h-8.2v36.7h8.2c0-18.9-2.5-30.2 9-30.2 10.2 0 8.2 10.2 8.2 30.2h7.9c0-18.3-2.5-30.2 9-30.2 10.2 0 8.2 10 8.2 30.2h8.2v-23zm44.9-13.7h-7.9v4.4c-2.7-3.3-6.5-5.4-11.7-5.4-10.3 0-18.2 8.2-18.2 19.3 0 11.2 7.9 19.3 18.2 19.3 5.2 0 9-1.9 11.7-5.4v4.6h7.9V392zm40.5 25.6c0-15-22.9-8.2-22.9-15.2 0-5.7 11.9-4.8 18.5-1.1l3.3-6.5c-9.4-6.1-30.2-6-30.2 8.2 0 14.3 22.9 8.3 22.9 15 0 6.3-13.5 5.8-20.7 .8l-3.5 6.3c11.2 7.6 32.6 6 32.6-7.5zm35.4 9.3l-2.2-6.8c-3.8 2.1-12.2 4.4-12.2-4.1v-16.6h13.1V392h-13.1v-11.2h-8.2V392h-7.6v7.3h7.6V416c0 17.6 17.3 14.4 22.6 10.9zm13.3-13.4h27.5c0-16.2-7.4-22.6-17.4-22.6-10.6 0-18.2 7.9-18.2 19.3 0 20.5 22.6 23.9 33.8 14.2l-3.8-6c-7.8 6.4-19.6 5.8-21.9-4.9zm59.1-21.5c-4.6-2-11.6-1.8-15.2 4.4V392h-8.2v36.7h8.2V408c0-11.6 9.5-10.1 12.8-8.4l2.4-7.6zm10.6 18.3c0-11.4 11.6-15.1 20.7-8.4l3.8-6.5c-11.6-9.1-32.7-4.1-32.7 15 0 19.8 22.4 23.8 32.7 15l-3.8-6.5c-9.2 6.5-20.7 2.6-20.7-8.6zm66.7-18.3H408v4.4c-8.3-11-29.9-4.8-29.9 13.9 0 19.2 22.4 24.7 29.9 13.9v4.6h8.2V392zm33.7 0c-2.4-1.2-11-2.9-15.2 4.4V392h-7.9v36.7h7.9V408c0-11 9-10.3 12.8-8.4l2.4-7.6zm40.3-14.9h-7.9v19.3c-8.2-10.9-29.9-5.1-29.9 13.9 0 19.4 22.5 24.6 29.9 13.9v4.6h7.9v-51.7zm7.6-75.1v4.6h.8V302h1.9v-.8h-4.6v.8h1.9zm6.6 123.8c0-.5 0-1.1-.3-1.6-.3-.3-.5-.8-.8-1.1-.3-.3-.8-.5-1.1-.8-.5 0-1.1-.3-1.6-.3-.3 0-.8 .3-1.4 .3-.5 .3-.8 .5-1.1 .8-.5 .3-.8 .8-.8 1.1-.3 .5-.3 1.1-.3 1.6 0 .3 0 .8 .3 1.4 0 .3 .3 .8 .8 1.1 .3 .3 .5 .5 1.1 .8 .5 .3 1.1 .3 1.4 .3 .5 0 1.1 0 1.6-.3 .3-.3 .8-.5 1.1-.8 .3-.3 .5-.8 .8-1.1 .3-.6 .3-1.1 .3-1.4zm3.2-124.7h-1.4l-1.6 3.5-1.6-3.5h-1.4v5.4h.8v-4.1l1.6 3.5h1.1l1.4-3.5v4.1h1.1v-5.4zm4.4-80.5c0-76.2-62.1-138.3-138.5-138.3-27.2 0-53.9 8.2-76.5 23.1 72.1 59.3 73.2 171.5 0 230.5 22.6 15 49.5 23.1 76.5 23.1 76.4 .1 138.5-61.9 138.5-138.4z" />
            </svg>
          {% elif pm.card.brand == 'discover' %}
            <svg xmlns="http://www.w3.org/2000/svg" class="fill-text w-12 h-12" viewBox="0 0 576 512">
              <path d="M520.4 196.1c0-7.9-5.5-12.1-15.6-12.1h-4.9v24.9h4.7c10.3 0 15.8-4.4 15.8-12.8zM528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-44.1 138.9c22.6 0 52.9-4.1 52.9 24.4 0 12.6-6.6 20.7-18.7 23.2l25.8 34.4h-19.6l-22.2-32.8h-2.2v32.8h-16zm-55.9 .1h45.3v14H444v18.2h28.3V217H444v22.2h29.3V253H428zm-68.7 0l21.9 55.2 22.2-55.2h17.5l-35.5 84.2h-8.6l-35-84.2zm-55.9-3c24.7 0 44.6 20 44.6 44.6 0 24.7-20 44.6-44.6 44.6-24.7 0-44.6-20-44.6-44.6 0-24.7 20-44.6 44.6-44.6zm-49.3 6.1v19c-20.1-20.1-46.8-4.7-46.8 19 0 25 27.5 38.5 46.8 19.2v19c-29.7 14.3-63.3-5.7-63.3-38.2 0-31.2 33.1-53 63.3-38zm-97.2 66.3c11.4 0 22.4-15.3-3.3-24.4-15-5.5-20.2-11.4-20.2-22.7 0-23.2 30.6-31.4 49.7-14.3l-8.4 10.8c-10.4-11.6-24.9-6.2-24.9 2.5 0 4.4 2.7 6.9 12.3 10.3 18.2 6.6 23.6 12.5 23.6 25.6 0 29.5-38.8 37.4-56.6 11.3l10.3-9.9c3.7 7.1 9.9 10.8 17.5 10.8zM55.4 253H32v-82h23.4c26.1 0 44.1 17 44.1 41.1 0 18.5-13.2 40.9-44.1 40.9zm67.5 0h-16v-82h16zM544 433c0 8.2-6.8 15-15 15H128c189.6-35.6 382.7-139.2 416-160zM74.1 191.6c-5.2-4.9-11.6-6.6-21.9-6.6H48v54.2h4.2c10.3 0 17-2 21.9-6.4 5.7-5.2 8.9-12.8 8.9-20.7s-3.2-15.5-8.9-20.5z" />
            </svg>
          {% elif pm.card.brand == 'jcb' %}
            <svg xmlns="http://www.w3.org/2000/svg" class="fill-text w-12 h-12" viewBox="0 0 576 512">
              <path d="M431.5 244.3V212c41.2 0 38.5 .2 38.5 .2 7.3 1.3 13.3 7.3 13.3 16 0 8.8-6 14.5-13.3 15.8-1.2 .4-3.3 .3-38.5 .3zm42.8 20.2c-2.8-.7-3.3-.5-42.8-.5v35c39.6 0 40 .2 42.8-.5 7.5-1.5 13.5-8 13.5-17 0-8.7-6-15.5-13.5-17zM576 80v352c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V80c0-26.5 21.5-48 48-48h480c26.5 0 48 21.5 48 48zM182 192.3h-57c0 67.1 10.7 109.7-35.8 109.7-19.5 0-38.8-5.7-57.2-14.8v28c30 8.3 68 8.3 68 8.3 97.9 0 82-47.7 82-131.2zm178.5 4.5c-63.4-16-165-14.9-165 59.3 0 77.1 108.2 73.6 165 59.2V287C312.9 311.7 253 309 253 256s59.8-55.6 107.5-31.2v-28zM544 286.5c0-18.5-16.5-30.5-38-32v-.8c19.5-2.7 30.3-15.5 30.3-30.2 0-19-15.7-30-37-31 0 0 6.3-.3-120.3-.3v127.5h122.7c24.3 .1 42.3-12.9 42.3-33.2z" />
            </svg>
          {% elif pm.card.brand == 'diners' %}
            <svg xmlns="http://www.w3.org/2000/svg" class="fill-text w-12 h-12" viewBox="0 0 576 512">
              <path d="M239.7 79.9c-96.9 0-175.8 78.6-175.8 175.8 0 96.9 78.9 175.8 175.8 175.8 97.2 0 175.8-78.9 175.8-175.8 0-97.2-78.6-175.8-175.8-175.8zm-39.9 279.6c-41.7-15.9-71.4-56.4-71.4-103.8s29.7-87.9 71.4-104.1v207.9zm79.8 .3V151.6c41.7 16.2 71.4 56.7 71.4 104.1s-29.7 87.9-71.4 104.1zM528 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM329.7 448h-90.3c-106.2 0-193.8-85.5-193.8-190.2C45.6 143.2 133.2 64 239.4 64h90.3c105 0 200.7 79.2 200.7 193.8 0 104.7-95.7 190.2-200.7 190.2z" />
            </svg>
          {% else %}
            <svg xmlns="http://www.w3.org/2000/svg" class="fill-text w-12 h-12" viewBox="0 0 576 512">
              <path d="M64 32C28.7 32 0 60.7 0 96v32H576V96c0-35.3-28.7-64-64-64H64zM576 224H0V416c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V224zM112 352h64c8.8 0 16 7.2 16 16s-7.2 16-16 16H112c-8.8 0-16-7.2-16-16s7.2-16 16-16zm112 16c0-8.8 7.2-16 16-16H368c8.8 0 16 7.2 16 16s-7.2 16-16 16H240c-8.8 0-16-7.2-16-16z" />
            </svg>
          {% endif %}
        </div>
        <div class="ml-3">
          <h6 class="text-sm">**** {{ pm.card.last4 }}</h6>
          <h6 class="text-xs">
            Expire on: {{ pm.card.exp_month }}/{{ pm.card.exp_year }}
            {% if default_pm == pm.id and to_select is None and hide_default is None %}
              <span class="ml-1 text-background text-xs bg-accent px-1 py-0.5 font-semibold rounded">default</span>
            {% endif %}
            {% if to_select == True %}
              <span id="span-{{ pm.id }}-{{ inputId }}" class="{% if default_pm != pm.id %}hidden{% endif %} ml-1 text-background text-xs font-semibold bg-accent px-1 py-0.5 rounded">Selected</span>
            {% endif %}
          </h6>
        </div>
      {% elif pm.type == 'cashapp' %}
        <div class="py-1 h-12 flex flex-col">
          <svg class="h-8 w-12 rounded m-auto bg-[#00D64F] fill-background" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="#00D64F" d="M0 0h32v32H0z"></path>
            <path fill-rule="evenodd" clip-rule="evenodd" d="M16.892 10.264c1.782 0 3.49.693 4.607 1.643.282.24.705.24.97-.018l1.328-1.293a.646.646 0 0 0-.032-.968 10.625 10.625 0 0 0-3.56-1.92l.416-1.903C20.71 5.39 20.38 5 19.94 5h-2.567a.69.69 0 0 0-.68.528l-.376 1.693c-3.412.163-6.303 1.796-6.303 5.147 0 2.9 2.392 4.144 4.917 5.004 2.393.86 3.655 1.18 3.655 2.391 0 1.243-1.262 1.976-3.123 1.976-1.697 0-3.475-.537-4.854-1.841a.713.713 0 0 0-.974-.002l-1.427 1.35a.652.652 0 0 0 .004.96c1.113 1.036 2.522 1.786 4.13 2.206l-.391 1.763c-.092.413.234.803.676.806l2.57.019a.689.689 0 0 0 .686-.53l.371-1.695c4.085-.242 6.586-2.372 6.586-5.49 0-2.868-2.492-4.08-5.516-5.068-1.728-.606-3.224-1.02-3.224-2.263 0-1.21 1.397-1.69 2.792-1.69Z"></path>
          </svg>
        </div>

        <div class="ml-3">
          <h6 class="text-sm">Cashapp</h6>
          <h6 class="text-xs">
            {{ pm.cashapp.cashtag }}
            {% if default_pm == pm.id and to_select is None and hide_default is None %}
              <span class="ml-1 text-background text-xs bg-accent px-1 py-0.5 font-semibold rounded">default</span>
            {% endif %}
            {% if to_select == True %}
              <span id="span-{{ pm.id }}-{{ inputId }}" class="{% if default_pm != pm.id %}hidden{% endif %} ml-1 text-background text-xs font-semibold bg-accent px-1 py-0.5 rounded">Selected</span>
            {% endif %}
          </h6>
        </div>
      {% elif pm.type == 'amazon_pay' %}
        <div class="py-1 h-12 flex flex-col">
          <svg class="fill-title h-8 w-12 rounded m-auto bg-[#343c45]" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="#333E48" d="M0 0h32v32H0z"></path>
            <path fill="#F90" fill-rule="evenodd" d="M26.597 21.086c-2.737 2.02-6.705 3.094-10.122 3.094-4.789 0-9.101-1.77-12.364-4.717-.256-.232-.028-.547.28-.368 3.52 2.049 7.875 3.283 12.372 3.283 3.033 0 6.368-.63 9.436-1.932.463-.196.851.305.398.64Z" clip-rule="evenodd"></path>
            <path fill="#F90" fill-rule="evenodd" d="M27.736 19.785c-.35-.448-2.314-.212-3.196-.106-.267.032-.309-.202-.068-.37 1.567-1.101 4.134-.784 4.432-.415.3.371-.079 2.946-1.546 4.174-.227.188-.442.088-.341-.161.33-.826 1.07-2.673.72-3.122Z" clip-rule="evenodd"></path>
            <path fill="#fff" fill-rule="evenodd" d="M20.538 19.277v-.467c0-.133.065-.225.204-.216.259.036.624.073.884.02.34-.071.583-.312.727-.641.202-.464.337-.838.421-1.083L20.2 10.51c-.043-.109-.056-.31.16-.31h.9c.172 0 .242.11.28.216l1.867 5.182 1.783-5.182c.036-.106.11-.216.28-.216h.848c.215 0 .203.201.16.31l-2.554 6.579c-.33.876-.771 2.27-1.763 2.513-.497.13-1.125.082-1.493-.072-.093-.047-.129-.171-.129-.253Zm-1.201-2.669a.217.217 0 0 1-.216.216h-.635a.247.247 0 0 1-.248-.216l-.064-.432c-.292.247-.65.464-1.038.615-.747.29-1.608.338-2.337-.11-.528-.324-.808-.957-.808-1.61 0-.505.156-1.006.5-1.37.461-.497 1.129-.74 1.935-.74.487 0 1.184.057 1.691.223v-.87c0-.884-.372-1.267-1.354-1.267-.75 0-1.324.113-2.123.362-.128.004-.202-.093-.202-.212v-.496c0-.119.101-.234.211-.269.57-.249 1.379-.404 2.238-.432 1.12 0 2.45.252 2.45 1.975v4.633Zm-1.22-1.27v-1.311c-.426-.117-1.131-.165-1.404-.165-.431 0-.903.102-1.15.367-.184.195-.267.474-.267.744 0 .35.12.7.403.872.327.223.836.196 1.314.06.459-.13.89-.36 1.104-.566Zm-8.14-4.271c1.408 0 1.792 1.107 1.792 2.376.008.854-.15 1.617-.592 2.053-.332.327-.702.416-1.259.416-.496 0-1.148-.259-1.635-.619v-3.626c.507-.39 1.154-.6 1.694-.6Zm-1.91 8.437h-.85A.217.217 0 0 1 7 19.288v-8.86c0-.119.097-.216.216-.216h.651c.137 0 .23.099.248.216l.068.464c.61-.541 1.395-.888 2.143-.888 2.094 0 2.783 1.726 2.783 3.52 0 1.92-1.054 3.463-2.835 3.463-.75 0-1.452-.277-1.991-.758v3.06a.217.217 0 0 1-.216.215Z" clip-rule="evenodd"></path>
          </svg>
        </div>

        <div class="ml-3">
          <h6 class="text-sm">Amazon</h6>
          <h6 class="text-xs">
            Amazon pay{% comment %} {{ pm.amazon_pay.cashtag }} {% endcomment %}
            {% if default_pm == pm.id and to_select is None and hide_default is None %}
              <span class="ml-1 text-background text-xs bg-accent px-1 py-0.5 font-semibold rounded">default</span>
            {% endif %}
            {% if to_select == True %}
              <span id="span-{{ pm.id }}-{{ inputId }}" class="{% if default_pm != pm.id %}hidden{% endif %} ml-1 text-background text-xs font-semibold bg-accent px-1 py-0.5 rounded">Selected</span>
            {% endif %}
          </h6>
        </div>
      {% elif pm.type == 'link' %}
        <div class="py-1 h-12 flex flex-col">
          <svg class="h-8 w-12 rounded m-auto bg-[#00D66F] fill-background" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="#00D66F" d="M0 0h32v32H0z"></path>
            <path d="M15.144 6H10c1 4.18 3.923 7.753 7.58 10C13.917 18.246 11 21.82 10 26h5.144c1.275-3.867 4.805-7.227 9.142-7.914v-4.18c-4.344-.68-7.874-4.04-9.142-7.906Z"></path>
          </svg>
        </div>

        <div class="ml-3">
          <h6 class="text-sm">Link</h6>
          <h6 class="text-xs">
            {{ pm.link.email }}
            {% if default_pm == pm.id and to_select is None and hide_default is None %}
              <span class="ml-1 text-background text-xs bg-accent px-1 py-0.5 font-semibold rounded">default</span>
            {% endif %}
            {% if to_select == True %}
              <span id="span-{{ pm.id }}-{{ inputId }}" class="{% if default_pm != pm.id %}hidden{% endif %} ml-1 text-background text-xs font-semibold bg-accent px-1 py-0.5 rounded">Selected</span>
            {% endif %}
          </h6>
        </div>
      {% else %}
        <div class="py-1 h-12 w-12 bg-text rounded flex flex-col">
          {% comment %} <svg class="h-8 w-12 rounded m-auto bg-[#00D66F] fill-background" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path fill="#00D66F" d="M0 0h32v32H0z"></path>
            <path d="M15.144 6H10c1 4.18 3.923 7.753 7.58 10C13.917 18.246 11 21.82 10 26h5.144c1.275-3.867 4.805-7.227 9.142-7.914v-4.18c-4.344-.68-7.874-4.04-9.142-7.906Z"></path>
          </svg> {% endcomment %}
        </div>

        <div class="ml-3">
          <h6 class="text-sm">{{ pm.type }}</h6>
          <h6 class="text-xs">
            {{ pm.type }}
            {% if default_pm == pm.id and to_select is None and hide_default is None %}
              <span class="ml-1 text-background text-xs bg-accent px-1 py-0.5 font-semibold rounded">default</span>
            {% endif %}
            {% if to_select == True %}
              <span id="span-{{ pm.id }}-{{ inputId }}" class="{% if default_pm != pm.id %}hidden{% endif %} ml-1 text-background text-xs font-semibold bg-accent px-1 py-0.5 rounded">Selected</span>
            {% endif %}
          </h6>
        </div>
      {% endif %}

      {% if default_pm != pm.id and to_select is None and hide_default is None %}
        <div class="ml-auto relative">
          <button onclick="openCustomDropdown('dropdownDots-{{ pm.id }}')" class="text-title inline-flex items-center p-2 text-sm font-medium text-center" type="button">
            <svg class="w-3 h-3 fill-title" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 4 15">
              <path d="M3.5 1.5a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 6.041a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Zm0 5.959a1.5 1.5 0 1 1-3 0 1.5 1.5 0 0 1 3 0Z" />
            </svg>
          </button>

          <!-- Dropdown menu -->
          <div id="dropdownDots-{{ pm.id }}" class="absolute right-3 z-10 hidden divide-y divide-text/10 w-44 nav-bg-backdrop">
            <ul class="py-2 text-sm" aria-labelledby="dropdownMenuIconButton-{{ pm.id }}">
              <li>
                <form hx-post="{% url 'payment_method-set-default' %}">
                  {% csrf_token %}
                  <input type="text" name="pm_id" value="{{ pm.id }}" class="hidden" />
                  <button type="submit" class="w-full text-left block px-4 py-2 btn-icon">Set default</button>
                </form>
              </li>
              <li>
                <form hx-post="{% url 'payment_method-delete' %}">
                  {% csrf_token %}
                  <input type="text" name="pm_id" value="{{ pm.id }}" class="hidden" />
                  <button type="submit" class="w-full text-left block px-4 py-2 text-error hover:text-error/80">Delete</button>
                </form>
              </li>
            </ul>
          </div>
        </div>
      {% endif %}
    </div>
  {% endfor %}
{% endwith %}
